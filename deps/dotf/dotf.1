.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "DOTF" "1" "October 2017" "" ""
.
.SH "NAME"
\fBdotf\fR \- module\-based dotfiles manager
.
.SH "SYNOPSIS"
\fBdotf\fR [\fB\-dhv\fR] [\fB\-a\fR \fIaction\fR] [\fB\-c\fR \fIfile\fR] [\fB\-m\fR \fIdirectory\fR] [\fB\-n\fR \fIdirectory\fR] [\fB\-o\fR \fIdirectory\fR]
.
.SH "DESCRIPTION"
The \fBdotf\fR utility allows the user to manage a large set of personal dotfiles\. Dotfiles are divided by logical groups and you may store different instances of a same file for different operating systems or versions of the program that consumes it\.
.
.P
The user maintains a directory subdivided by \fBdotf\fR modules, where a module is just another directory\. Each module must contain a \fBMANIFEST\fR file that maps the other files in the module to their expected locations\.
.
.P
For example, a basic dotfiles directory with a simple `email\' module containing mutt(1), msmtp(1), and offlineimap(1) configuration files may look like this:
.
.IP "" 4
.
.nf

dotfiles/
  email/
    MANIFEST
    muttrc
    offlineimaprc
    msmtprc
.
.fi
.
.IP "" 0
.
.P
The \fBMANIFEST\fR file inside such module may look like this:
.
.IP "" 4
.
.nf

DIRECTORY \.mutt/cache
SYMLINK msmtprc \.msmtprc 600
SYMLINK offlineimaprc \.offlineimaprc
SYMLINK muttrc \.mutt/muttrc
.
.fi
.
.IP "" 0
.
.P
For detailed descriptions of each command see chapter [MANIFEST FILE][MANIFEST FILE]\.
.
.SH "MANIFEST FILE"
The \fBMANIFEST\fR file describes how to prepare the environment before applying the module and how every file inside the module maps to its expected destination\. Note that the mapping is bi\-directional, and it allows \fBdotf\fR to revert a module from the system\. This file is evaluated from top to bottom\.
.
.P
The following directives are supported:
.
.TP
\fBDIRECTORY\fR \fIpath\fR
Create a directory called \fIpath\fR, relative to the destination base directory\. This is useful when certain programs expect a directory (even if empty) in a certain location to start correctly\.
.
.IP
When a module is reverted, \fIpath\fR will only be deleted if empty\.
.
.TP
\fBSYMLINK\fR \fIsource\fR \fItarget\fR [\fImode\fR]
Symlink \fIsource\fR, which is a file relative to the module path, to \fItarget\fR, which is a path relative to the destination base directory\. You can optionally pass \fImode\fR, an octal UNIX mode number to apply to \fItarget\fR\.
.
.IP
When a module is reverted, \fItarget\fR will be deleted\.
.
.SH "OPTIONS"
.
.TP
\fB\-a\fR \fIaction\fR:
.
.IP
The action to take\. Possible values are \fBapply\fR and \fBrevert\fR\. If this option is omitted, the action defaults to \fBapply\fR\.
.
.TP
\fB\-c\fR \fIfile\fR:
.
.IP
Set a configuration file that specifies entries for the version of any dotfile to use in that particular system\. The structure of a configuration file is \fImodule\fR \fIfile\fR \fIversion\fR\. For example: \fBemail muttrc 1\.9\.1\fR, where the module name is \fBemail\fR, the dotfile inside that module is \fBmuttrc\fR, and the requested version is 1\.9\.1\.
.
.IP
If the \fBSYMLINK\fR directive encounters a file for which there is an entry on a configuration file, it will first try to find the correct \fIsource\fR at \fBmodule/version/os/file\fR (where \fBos\fR is the lowercase version of \fBuname\fR), and then at \fBmodule/version/file\fR, aborting the action if the file was not found\.
.
.TP
\fB\-d\fR:
.
.IP
Dry run\. Print the required file\-system actions without executing them\. Useful for debugging purposes\.
.
.TP
\fB\-h\fR:
.
.IP
Print basic help and quit\.
.
.TP
\fB\-m\fR \fIdirectory\fR:
.
.IP
Run the specified action on a particular module located at \fIdirectory\fR\. If this option is omitted, the action will be applied to every module found in the namespace directory (\fB\-n\fR)\. If this path is relative, it will be resolved from the namespace directory\.
.
.TP
\fB\-n\fR \fIdirectory\fR:
.
.IP
Set the directory containing all the available modules (the top level dotfiles directory)\. Defaults to the current working directory\.
.
.TP
\fB\-o\fR \fIdirectory\fR:
.
.IP
Set the destination base directory\. This is the location where modules will be installed\. Defaults to \fB$HOME\fR\.
.
.TP
\fB\-v\fR:
.
.IP
Print the version of the program and quit\.
.
.SH "BUGS"
This project aims to support GNU/Linux, macOS, and *BSD\. Please report any issues or suggestions at \fIhttps://github\.com/jviotti/dotf/issues\fR\.
.
.SH "AUTHOR"
Written by Juan Cruz Viotti (\fIjv@jviotti\.com\fR, \fIjviotti\.com\fR)\.
.
.SH "SEE ALSO"
stow(8)
